FROM docker.io/ubuntu:24.04


ENV DEBIAN_FRONTEND=noninteractive

WORKDIR /app
EXPOSE 4000/tcp

RUN apt update && \
    apt install -y \
        python3 \
        python3-venv \
        python3-pip \
        python3-opencv \
        gstreamer1.0-plugins-good && \
    apt clean && rm -rf /var/lib/apt/lists/*

COPY requirements.txt /app/
RUN python3 -m venv --system-site-packages venv && venv/bin/pip3 install -r requirements.txt

COPY webcam.py  /app/
COPY resources/vlm_short_prompt.txt /app/vlm_prompt.txt

CMD [ "venv/bin/python3", "webcam.py" ]

